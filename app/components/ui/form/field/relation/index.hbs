<div block:scope block:disabled={{@disabled}} ...attributes>
  <AnimatedContainer>
    <ol
      block:class="records"
      {{sortable-group onChange=this.reorderRecords groupName=this.groupName}}
    >
      {{#animated-each this.records
        use=this.transition
        duration=300
        as |record|
      }}
        <Ui::Form::Field::Relation::Record
          @record={{record}}
          @openRecord={{fn this.openRecord}}
          @removeRecord={{fn this.removeRecord}}
          @sortable={{this.isHasManyRelation}}
          @groupName={{this.groupName}}
        />
      {{/animated-each}}
    </ol>
  </AnimatedContainer>

  {{#if this.isRecordAssignable}}
    <div block:class="assign">
      <Ui::Button
        @icon="search"
        @label="Suchen und hinzufÃ¼gen"
        @onClick={{fn this.openRecordList}}
        block:class="search"
      />

      <Ui::Button
        @icon="add"
        @label="Neu"
        @onClick={{fn this.openNewRecord}}
        block:class="add"
      />
    </div>
  {{/if}}
</div>


<Ui::Modal @onClose={{this.closeRecordList}} @isOpen={{this.isRecordListOpen}}>
  <Ui::Form::Field::Relation::Assign
    @multiple={{this.isHasManyRelation}}
    @modelName={{this.relationType}}
    @assigned={{this.records}}
    @onAssign={{this.assignRecords}}
    @onClose={{this.closeRecordList}}
    @disabledRecords={{this.records}}
  />
</Ui::Modal>
